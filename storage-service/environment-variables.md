# Trubudget Storage service

## Environment Variables

To ensure all necessary environment variables are set correctly this section describes all environment variables across
all services.

| Env Variable name                      | Required | Default Value                                                                                                                                                                                                                                                                                    | Description                                                                                                                                      |
| -------------------------------------- | -------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------ |
| **STORAGE_SERVICE_PORT**               | no       | 8090                                                                                                                                                                                                                                                                                             | The port used to expose the storage service. Value is a port with minimal value 0 and maximal value 65535                                        |
| **ACCESS_CONTROL_ALLOW_ORIGIN**        | no       | *                                                                                                                                                                                                                                                                                                | CORS configuration. Defaults to allow all origins.                                                                                               |
| **RATE_LIMIT**                         | no       | -                                                                                                                                                                                                                                                                                                | Defines the limit each IP to RATE_LIMIT requests per windowMs (1 minute).                                                                        |
| **STORAGE_PROVIDER**                   | no       | minio                                                                                                                                                                                                                                                                                            |  Set to `azure-storage` if you use Azure Storage Account, otherwise defaults to `minio`.                                                         |
| **MINIO_ACCESS_KEY**                   | no       | minio                                                                                                                                                                                                                                                                                            | Access key for Minio server.                                                                                                                     |
| **MINIO_SECRET_KEY**                   | no       | minio123                                                                                                                                                                                                                                                                                         | Secret (Password) for Minio server.                                                                                                              |
| **MINIO_HOST**                         | no       | localhost                                                                                                                                                                                                                                                                                        | Host/IP address of connected Minio server.                                                                                                       |
| **MINIO_PORT**                         | no       | 9000                                                                                                                                                                                                                                                                                             | Port of connected Minio server Value is a port with minimal value 0 and maximal value 65535                                                      |
| **MINIO_PROTOCOL**                     | no       | http                                                                                                                                                                                                                                                                                             | Protocol of connected Minio server. `http` or `https`.                                                                                           |
| **MINIO_BUCKET_NAME**                  | no       | trubudget                                                                                                                                                                                                                                                                                        | Bucket name of the connected Minio server                                                                                                        |
| **MINIO_REGION**                       | no       | us-east-1                                                                                                                                                                                                                                                                                        | Region where the bucket is created. This parameter is optional. Default value is us-east-1.                                                      |
| **AZURE_STORAGE_CONNECTION_STRING**    | no       | DefaultEndpointsProtocol=http;AccountName=devstoreaccount1;AccountKey=Eby8vdM02xNOcqFlqUwJPLlmEtlCDXJ1OUzFT50uSRZ6IFsuFq2UVErCz4I6tq/K1SZFPTOtr/KBHBeksoGMGw==;BlobEndpoint=http://host.docker.internal:10000/devstoreaccount1;QueueEndpoint=http://host.docker.internal:10001/devstoreaccount1; | Connection string for Azure blob storage on Azure or locally on Azurite.                                                                         |
| **AZURE_STORAGE_PORT**                 | no       | 10000                                                                                                                                                                                                                                                                                            | Port on which Azurite is running. Required only with local development environment. Value is a port with minimal value 0 and maximal value 65535 |
| **AZURE_ACCOUNT_NAME**                 | no       | -                                                                                                                                                                                                                                                                                                | -                                                                                                                                                |
| **AZURE_CONTAINER_NAME**               | no       | container                                                                                                                                                                                                                                                                                        | Container name of the connected Azure blob storage. Container will be created if it doesn't exists.                                              |
| **SILENCE_LOGGING_ON_FREQUENT_ROUTES** | no       | -                                                                                                                                                                                                                                                                                                | -                                                                                                                                                |
| **SHORT_ROUTES_LOGGING_OUTPUT**        | no       | -                                                                                                                                                                                                                                                                                                | -                                                                                                                                                |
| **LOG_LEVEL**                          | no       | info                                                                                                                                                                                                                                                                                             | Defines the log output. Supported levels are `trace`, `debug`, `info`, `warn`, `error`, `fatal`.                                                 |
